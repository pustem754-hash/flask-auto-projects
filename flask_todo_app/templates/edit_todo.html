{% extends "base.html" %}

{% block title %}Редактировать задачу - Todo App{% endblock %}

{% block content %}
<div class="row justify-content-center">
 <div class="col-md-8">
 <div class="card">
 <div class="card-header">
 <h3 class="mb-0">
 <i class="fas fa-edit me-2"></i>Редактировать задачу
 </h3>
 </div>
 <div class="card-body">
 <form method="POST">
 <div class="mb-3">
 <label for="title" class="form-label">Название задачи *</label>
 <input type="text" class="form-control" id="title" name="title" 
 value="{{ todo.title }}" required>
 </div>
 
 <div class="mb-3">
 <label for="description" class="form-label">Описание</label>
 <textarea class="form-control" id="description" name="description" rows="3">{{ todo.description or '' }}</textarea>
 </div>
 
 <div class="row">
 <div class="col-md-6">
 <div class="mb-3">
 <label for="category_id" class="form-label">Категория *</label>
 <select class="form-select" id="category_id" name="category_id" required>
 {% for category in categories %}
 <option value="{{ category.id }}" 
 {% if category.id == todo.category_id %}selected{% endif %}>
 {{ category.name }}
 </option>
 {% endfor %}
 </select>
 </div>
 </div>
 
 <div class="col-md-6">
 <div class="mb-3">
 <label for="priority" class="form-label">Приоритет</label>
 <select class="form-select" id="priority" name="priority">
 <option value="low" {% if todo.priority == 'low' %}selected{% endif %}>Низкий</option>
 <option value="medium" {% if todo.priority == 'medium' %}selected{% endif %}>Средний</option>
 <option value="high" {% if todo.priority == 'high' %}selected{% endif %}>Высокий</option>
 </select>
 </div>
 </div>
 </div>
 
 <div class="mb-3">
 <label for="due_date" class="form-label">Срок выполнения</label>
 <input type="date" class="form-control" id="due_date" name="due_date"
 value="{{ todo.due_date.strftime('%Y-%m-%d') if todo.due_date else '' }}">
 </div>
 
 <div class="d-flex gap-2">
 <button type="submit" class="btn btn-primary">
 <i class="fas fa-save me-2"></i>Сохранить изменения
 </button>
 <a href="{{ url_for('index') }}" class="btn btn-secondary">
 <i class="fas fa-times me-2"></i>Отмена
 </a>
 </div>
 </form>
 </div>
 </div>
 </div>
</div>
{% endblock %}