{% extends "base.html" %}

{% block title %}Категории - Todo App{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
 <h1>Категории</h1>
 <a href="{{ url_for('add_category') }}" class="btn btn-primary">
 <i class="fas fa-plus me-2"></i>Добавить категорию
 </a>
</div>

{% if categories %}
 <div class="row">
 {% for category in categories %}
 <div class="col-md-4 mb-3">
 <div class="card">
 <div class="card-body">
 <div class="d-flex justify-content-between align-items-start">
 <div>
 <h5 class="card-title d-flex align-items-center">
 <span class="badge me-2" style="background-color: {{ category.color }}">&nbsp;</span>
 {{ category.name }}
 </h5>
 <p class="card-text text-muted">
 <i class="fas fa-tasks me-1"></i>
 {{ category.todos|length }} задач(и)
 </p>
 </div>
 {% if not category.todos %}
 <a href="{{ url_for('delete_category', id=category.id) }}" 
 class="btn btn-sm btn-outline-danger"
 onclick="return confirm('Удалить эту категорию?')">
 <i class="fas fa-trash"></i>
 </a>
 {% endif %}
 </div>
 </div>
 </div>
 </div>
 {% endfor %}
 </div>
{% else %}
 <div class="text-center py-5">
 <i class="fas fa-folder-open fa-5x text-muted mb-3"></i>
 <h3 class="text-muted">Нет категорий</h3>
 <p class="text-muted">Создайте свою первую категорию!</p>
 <a href="{{ url_for('add_category') }}" class="btn btn-primary">
 <i class="fas fa-plus me-2"></i>Добавить категорию
 </a>
 </div>
{% endif %}
{% endblock %}