<!DOCTYPE html>
<html lang="ru">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</title>
 <style>
 * {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
 }
 
 body {
 font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 min-height: 100vh;
 padding: 20px;
 }
 
 .container {
 max-width: 800px;
 margin: 0 auto;
 background: white;
 border-radius: 20px;
 box-shadow: 0 20px 40px rgba(0,0,0,0.1);
 overflow: hidden;
 }
 
 .header {
 background: linear-gradient(45deg, #4CAF50, #45a049);
 color: white;
 text-align: center;
 padding: 30px;
 }
 
 .header h1 {
 font-size: 2.5em;
 margin-bottom: 10px;
 }
 
 .header p {
 opacity: 0.9;
 font-size: 1.1em;
 }
 
 .content {
 padding: 30px;
 }
 
 .calculator-tabs {
 display: flex;
 margin-bottom: 30px;
 border-bottom: 2px solid #f0f0f0;
 flex-wrap: wrap;
 }
 
 .tab {
 padding: 15px 20px;
 cursor: pointer;
 border: none;
 background: none;
 color: #666;
 font-size: 14px;
 font-weight: 500;
 transition: all 0.3s ease;
 flex: 1;
 min-width: 120px;
 }
 
 .tab.active {
 color: #4CAF50;
 border-bottom: 3px solid #4CAF50;
 }
 
 .calc-form {
 display: none;
 animation: fadeIn 0.3s ease;
 }
 
 .calc-form.active {
 display: block;
 }
 
 @keyframes fadeIn {
 from { opacity: 0; transform: translateY(10px); }
 to { opacity: 1; transform: translateY(0); }
 }
 
 .form-group {
 margin-bottom: 20px;
 }
 
 .form-group label {
 display: block;
 margin-bottom: 8px;
 color: #333;
 font-weight: 500;
 }
 
 .form-group input {
 width: 100%;
 padding: 12px 15px;
 border: 2px solid #e0e0e0;
 border-radius: 10px;
 font-size: 16px;
 transition: border-color 0.3s ease;
 }
 
 .form-group input:focus {
 outline: none;
 border-color: #4CAF50;
 }
 
 .btn-calculate {
 width: 100%;
 padding: 15px;
 background: linear-gradient(45deg, #4CAF50, #45a049);
 color: white;
 border: none;
 border-radius: 10px;
 font-size: 16px;
 font-weight: bold;
 cursor: pointer;
 transition: transform 0.2s ease;
 }
 
 .btn-calculate:hover {
 transform: translateY(-2px);
 }
 
 .result {
 margin-top: 30px;
 padding: 20px;
 background: #f8f9fa;
 border-radius: 10px;
 border-left: 5px solid #4CAF50;
 display: none;
 }
 
 .result.show {
 display: block;
 animation: slideIn 0.3s ease;
 }
 
 @keyframes slideIn {
 from { opacity: 0; transform: translateX(-20px); }
 to { opacity: 1; transform: translateX(0); }
 }
 
 .result-value {
 font-size: 2em;
 font-weight: bold;
 color: #4CAF50;
 margin-bottom: 10px;
 }
 
 .result-formula {
 color: #666;
 font-size: 1.1em;
 }
 
 .error {
 color: #e74c3c;
 padding: 15px;
 background: #ffeaea;
 border-radius: 10px;
 margin-top: 20px;
 display: none;
 }
 
 .error.show {
 display: block;
 }
 
 @media (max-width: 768px) {
 .calculator-tabs {
 flex-direction: column;
 }
 
 .tab {
 text-align: center;
 border-bottom: 1px solid #e0e0e0;
 }
 
 .tab.active {
 border-bottom: 3px solid #4CAF50;
 }
 }
 </style>
</head>
<body>
 <div class="container">
 <div class="header">
 <h1>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</h1>
 <p>–ë—ã—Å—Ç—Ä—ã–µ –∏ —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á</p>
 </div>
 
 <div class="content">
 <div class="calculator-tabs">
 <button class="tab active" onclick="showTab('percentage_of')">% –æ—Ç —á–∏—Å–ª–∞</button>
 <button class="tab" onclick="showTab('what_percentage')">–ö–∞–∫–æ–π %</button>
 <button class="tab" onclick="showTab('percentage_change')">–ò–∑–º–µ–Ω–µ–Ω–∏–µ</button>
 <button class="tab" onclick="showTab('add_percentage')">–ü—Ä–∏–±–∞–≤–∏—Ç—å %</button>
 <button class="tab" onclick="showTab('subtract_percentage')">–û—Ç–Ω—è—Ç—å %</button>
 </div>
 
 <!-- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —á–∏—Å–ª–∞ -->
 <form class="calc-form active" id="percentage_of">
 <div class="form-group">
 <label>–ß–∏—Å–ª–æ:</label>
 <input type="number" step="any" name="number" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ" required>
 </div>
 <div class="form-group">
 <label>–ü—Ä–æ—Ü–µ–Ω—Ç (%):</label>
 <input type="number" step="any" name="percentage" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç" required>
 </div>
 <button type="submit" class="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
 </form>
 
 <!-- –ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç -->
 <form class="calc-form" id="what_percentage">
 <div class="form-group">
 <label>–ß–∞—Å—Ç—å:</label>
 <input type="number" step="any" name="part" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∞—Å—Ç—å" required>
 </div>
 <div class="form-group">
 <label>–¶–µ–ª–æ–µ:</label>
 <input type="number" step="any" name="whole" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ" required>
 </div>
 <button type="submit" class="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
 </form>
 
 <!-- –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ -->
 <form class="calc-form" id="percentage_change">
 <div class="form-group">
 <label>–°—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
 <input type="number" step="any" name="old_value" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" required>
 </div>
 <div class="form-group">
 <label>–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
 <input type="number" step="any" name="new_value" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" required>
 </div>
 <button type="submit" class="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
 </form>
 
 <!-- –ü—Ä–∏–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç -->
 <form class="calc-form" id="add_percentage">
 <div class="form-group">
 <label>–ß–∏—Å–ª–æ:</label>
 <input type="number" step="any" name="number" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ" required>
 </div>
 <div class="form-group">
 <label>–ü—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è (%):</label>
 <input type="number" step="any" name="percentage" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç" required>
 </div>
 <button type="submit" class="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
 </form>
 
 <!-- –û—Ç–Ω—è—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç -->
 <form class="calc-form" id="subtract_percentage">
 <div class="form-group">
 <label>–ß–∏—Å–ª–æ:</label>
 <input type="number" step="any" name="number" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ" required>
 </div>
 <div class="form-group">
 <label>–ü—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è –≤—ã—á–∏—Ç–∞–Ω–∏—è (%):</label>
 <input type="number" step="any" name="percentage" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç" required>
 </div>
 <button type="submit" class="btn-calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
 </form>
 
 <div class="result" id="result">
 <div class="result-value" id="result-value"></div>
 <div class="result-formula" id="result-formula"></div>
 </div>
 
 <div class="error" id="error"></div>
 </div>
 </div>
 
 <script>
 function showTab(tabName) {
 // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Ñ–æ—Ä–º—ã
 document.querySelectorAll('.calc-form').forEach(form => {
 form.classList.remove('active');
 });
 
 // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ –≤—Å–µ—Ö —Ç–∞–±–æ–≤
 document.querySelectorAll('.tab').forEach(tab => {
 tab.classList.remove('active');
 });
 
 // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ñ–æ—Ä–º—É
 document.getElementById(tabName).classList.add('active');
 
 // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞–±
 event.target.classList.add('active');
 
 // –°–∫—Ä—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
 hideResult();
 }
 
 function hideResult() {
 document.getElementById('result').classList.remove('show');
 document.getElementById('error').classList.remove('show');
 }
 
 function showResult(result, formula) {
 document.getElementById('result-value').textContent = result;
 document.getElementById('result-formula').textContent = formula;
 document.getElementById('result').classList.add('show');
 document.getElementById('error').classList.remove('show');
 }
 
 function showError(message) {
 document.getElementById('error').textContent = message;
 document.getElementById('error').classList.add('show');
 document.getElementById('result').classList.remove('show');
 }
 
 // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º
 document.querySelectorAll('.calc-form').forEach(form => {
 form.addEventListener('submit', async (e) => {
 e.preventDefault();
 
 const formData = new FormData(form);
 const data = Object.fromEntries(formData.entries());
 data.type = form.id;
 
 try {
 const response = await fetch('/calculate', {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json',
 },
 body: JSON.stringify(data)
 });
 
 const result = await response.json();
 
 if (response.ok) {
 showResult(result.result, result.formula);
 } else {
 showError(result.error);
 }
 } catch (error) {
 showError('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
 }
 });
 });
 </script>
</body>
</html>